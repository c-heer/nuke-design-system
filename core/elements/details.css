/* ============================================
   DETAILS - Accordion/disclosure element
   Pure logic, NO variables defined here
   Variables come from theme/details.css
   ============================================ */

/* Base details styling (works without classes!) */
details {
  border: 1px solid var(--details-border);
  border-radius: var(--details-radius);
  background: var(--details-bg);
  padding: var(--details-padding);
  margin-bottom: var(--details-margin-bottom);
  transition: background-color var(--details-transition), border-color var(--details-transition);
}

/* Summary (the clickable header) */
summary {
  cursor: pointer;
  font-weight: var(--details-summary-font-weight);
  color: var(--details-summary-color);
  list-style: none;
  padding: var(--details-summary-padding);
  margin: calc(var(--details-padding) * -1);
  border-radius: var(--details-radius);
  transition: background-color var(--details-transition), color var(--details-transition);
  user-select: none;
}

/* Hide default marker */
summary::-webkit-details-marker {
  display: none;
}

/* Custom arrow using pseudo-element */
summary::before {
  content: '';
  display: inline-block;
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 6px solid currentColor;
  margin-right: var(--space-1);
  transform: rotate(-90deg);
  transition: transform var(--details-transition);
}

details[open] summary::before {
  transform: rotate(0deg);
}

summary:hover {
  background: var(--details-summary-hover-bg);
}

summary:focus-visible {
  outline: 2px solid var(--color-1);
  outline-offset: 2px;
}

/* Content area */
details > *:not(summary) {
  margin-top: var(--details-content-margin-top);
}

/* zen: Minimal / Japanese - Simple disclosure, no background */
details.zen,
details[style="zen"] {
  border: 1px solid var(--details-zen-border);
  border-radius: 0;
  background: var(--details-zen-bg);
  padding: var(--details-zen-padding);
}

details.zen[open],
details[style="zen"][open] {
  border-bottom: 1px solid var(--details-zen-open-border-bottom);
}

details.zen summary,
details[style="zen"] summary {
  padding: 0;
  margin: 0;
}

details.zen summary:hover,
details[style="zen"] summary:hover {
  background: var(--details-zen-summary-hover-bg);
  color: var(--details-zen-summary-hover-color);
}

/* soft: Subtle Contrasts - Background change on expand, no border */
details.soft,
details[style="soft"] {
  border: 1px solid var(--details-soft-border);
  border-radius: var(--details-soft-radius);
  background: var(--details-soft-bg);
  padding: var(--details-soft-padding);
}

details.soft[open],
details[style="soft"][open] {
  background: var(--details-soft-open-bg);
}

details.soft summary:hover,
details[style="soft"] summary:hover {
  background: var(--details-soft-summary-hover-bg);
}

/* solid: All In - Border + background on expand */
details.solid,
details[style="solid"] {
  border: var(--details-solid-border-width) solid var(--details-solid-border);
  border-radius: var(--details-solid-radius);
  background: var(--details-solid-bg);
  padding: var(--details-solid-padding);
}

details.solid[open],
details[style="solid"][open] {
  background: var(--details-solid-open-bg);
  border-color: var(--details-solid-open-border);
}

details.solid summary:hover,
details[style="solid"] summary:hover {
  background: var(--details-solid-summary-hover-bg);
}
